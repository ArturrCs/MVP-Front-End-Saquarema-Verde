<!DOCTYPE html>
<html lang="pt-BR">
<head>    
    <meta charset="UTF-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eventos - Circuito Verde Saquarema</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cabin+Sketch:wght@700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    
    <style>
        /* Configurações das cores */
        :root {
            --verde-principal: #28a745; 
            --verde-escuro: #1e7e34;
            --cinza-claro: #f8f9fa;
            --cinza-medio: #e9ecef;
            --branco: #ffffff;
            --texto-principal: #333;
            --cinza-muito-escuro: #212529; 
        }
        /* Configurações de texto */
        body {
            font-family: 'Open Sans', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--cinza-claro);
            color: var(--texto-principal);
            line-height: 1.6;
        }

        html, body {
            height: 100%;
        }

        body {
            display: flex;
            flex-direction: column;
        }

        main {
            flex: 1;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Montserrat', sans-serif;
            color: var(--verde-escuro);
            margin-top: 0;
        }

        a:hover {
            text-decoration: underline;
        }
        
        main#content-area { 
            min-height: 500px; 
        }

        /* Cabeçalho */
        header {
            background-color: var(--branco);
            color: var(--texto-principal);
            padding: 15px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            position: sticky; 
            top: 0;
            z-index: 1000;
        }

        .header-logo {
            font-family: 'Cabin Sketch', cursive; 
            font-size: 2.5em; 
            font-weight: 700;
            color: var(--verde-escuro); 
            text-decoration: none;
            display: flex;
            align-items: center;
            line-height: 0.9;
        }

        .header-logo .leaf-icon {
            width: 35px; 
            height: 35px;
            margin-right: 10px; 
            fill: var(--verde-principal); 
            transform: rotate(-15deg); 
            transition: transform 0.3s ease;
        }

        .header-logo:hover .leaf-icon {
            transform: rotate(0deg) scale(1.1); 
        }

        .header-logo span {
            margin-left: 0; 
            color: inherit; 
        }
        
        /* Ações de navegação */
        .actions-group {
            display: flex;
            align-items: center;
            gap: 20px; 
            margin-left: auto; 
            max-width: 50%; 
        }
        
        .actions-group a { 
            color: var(--texto-principal);
            font-weight: 600;
            padding: 8px 12px; 
            position: relative;
            background-color: rgba(40, 167, 69, 0.05); 
            border-radius: 4px;
            transition: background-color 0.3s ease; 
            flex: 1 1 120px; 
            text-align: center; 
            min-width: 100px; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
        }

        .actions-group a:hover {
            background-color: rgba(40, 167, 69, 0.15); 
            text-decoration: none; 
        }
        
        .actions-group a::after {
            content: '';
            position: absolute;
            left: 50%; 
            bottom: 0;
            width: 0;
            height: 2px;
            background-color: var(--verde-principal);
            transition: width 0.3s ease-in-out, left 0.3s ease-in-out;
        }

        .actions-group a:hover::after {
            width: 100%;
            left: 0; 
        }

        /* Configuração da primeira imagem de fundo. */
        .page-hero {
            background: linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url('eventos/img1.jpg') no-repeat center 65% / cover;  
            color: var(--branco);
            text-align: left; 
            padding: 80px 40px; 
            min-height: 300px; 
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        /* Configuração do texto em frente a primeira imagem de fundo. */
        .page-hero h1 {
            color: var(--branco);
            font-family: 'Montserrat', sans-serif; 
            font-size: 3.5em; 
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
            line-height: 1.1;
            position: relative;
            text-align: center; 
        }

         /* Configuração da barrinha verde embaixo do texto em frente a primeira imagem de fundo. */       
        .page-hero h1::after {
            content: '';
            display: block;
            width: 80px;
            height: 3px;
            background-color: var(--verde-principal);
            margin: 10px auto 0 auto;
        }
                                  /* Começa aqui os cards novos */
        .event-block {
            max-width: 800px;
            margin: 70px auto;
            text-align: center;
        }

        .event-banner {
            width: 100%;
            height: 380px;
            object-fit: cover;
            display: block;
        }
                                  /* Configuração do Texto do Card */
        .event-card {
            position: relative;
            max-width: 85%;
            margin: -100px auto 0 auto;
            padding: 40px;
            background: rgba(255, 255, 255, 0.9); /* TRANSPARÊNCIA */
            text-align: justify;
            z-index: 10;
        }
                                  /* Configuração do Título do Card */
        .event-card h2 {
            text-align: center;
            margin: -15px auto 0 auto;
            font-size: 2.1em;
            margin-bottom: 25px;
            color: var(--verde-escuro);
        }

        .event-card p {
            margin-bottom: 18px;
        }

        .event-card iframe {
            width: 100%;
            height: 180px;
            border-radius: 8px;
            border: none;
            margin-top: 20px;
        }
                                  /* Termina aqui os cards novos */
                                  
                                  /*Configuração de créditos da foto */
        .hero-caption {
            position: absolute;
            bottom: 15px;
            right: 40px;   /* Posição Left ou right */
            color: #ffffffcc; /* Branco 80% */
            font-size: 0.9em;
            font-style: italic;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.7);
        } 

        .page-hero {
            position: relative;
        }
                         

        /* Configurações de Rodapé */
        footer {
            background-color: var(--cinza-muito-escuro); 
            color: var(--branco); 
            padding: 10px 40px; 
            margin-top: 50px;
            font-size: 0.9em;
            display: flex; 
            justify-content: center; 
            align-items: center;
            position: relative; 
            width: 100%; 
            box-sizing: border-box; 
        }

        footer .footer-content { 
            flex-grow: 1; 
            text-align: center; 
            max-width: 100%;
        }

        footer p {
            margin: 2px 0; 
            color: var(--branco); 
        }
        
        .footer-admin-button {
            background-color: var(--branco); 
            color: var(--verde-escuro); 
            padding: 6px 10px; 
            border: none;
            border-radius: 4px; 
            cursor: pointer;
            font-weight: 700;
            transition: background-color 0.3s ease, color 0.3s ease;
            text-transform: uppercase;
            font-size: 0.8em; 
            position: absolute; 
            right: 40px; 
            top: 50%;
            transform: translateY(-50%);
            order: unset; 
        }

        .footer-admin-button:hover {
            background-color: var(--cinza-medio); 
            color: var(--verde-principal);
            text-decoration: none;
        }

        /* RESPONSIVIDADE */

        @media (max-width: 768px) {
            header {
                flex-direction: column;
                padding: 15px 20px;
            }
            .header-logo {
                 text-align: center;
                 width: 100%;
            }

            .actions-group {
                margin-top: 10px;
                display: flex;
                flex-wrap: nowrap;
                justify-content: center;
                gap: 15px;
                max-width: 100%; 
                margin: 10px auto 0 auto; 
            }
            .actions-group a {
                font-size: 0.9em; 
                flex: 0 0 auto; 
                min-width: unset; 
            }

            .hero-section {
                padding: 30px 20px; 
                min-height: 280px; 
                align-items: flex-start; 
                text-align: left; 
            }
            .hero-section h1 {
                margin-left: 0; 
                font-size: 2.5em; 
                max-width: 100%; 
            }
                       
            /* RODAPÉ */
            footer {
                flex-direction: column; 
                justify-content: center;
                align-items: center;
                padding: 10px 20px; 
            }

            .footer-admin-button {
                position: static; 
                margin-top: 10px; 
                order: 3; 
                transform: unset;
                right: unset;
                top: unset;
            }
        }
        
    </style>
</head>
<body>

    <header>
        <a href="index.html" class="header-logo">
            <svg class="leaf-icon" viewBox="0 0 24 24">
                <path d="M17 8c-1.66-1.66-4.66-2.02-7-.75C8.34 8.79 7 11.5 7 14c0 3 2 6 6 6s6-3 6-6c0-2.5-1.34-5.21-3-7zM8 12c.5-1.5 1.5-2.5 3-3 .75-.38 1.5-.75 2.25-1.13.75.38 1.5.75 2.25-1.13C16 4 14 2 12 2S8 4 8 8c0 2.5 1.34-5.21 3 7 .75.38 1.5.75 2.25 1.13.75.38 1.5.75 2.25 1.13C16 20 14 22 12 22S8 20 8 16c0-2.5 1.34-5.21 3-7z" fill="currentColor"/>
            </svg>
            <span>Circuito Saquarema Verde</span>
        </a>

        <div class="actions-group">
            <a href="trilhas.html">Trilhas</a>
            <a href="cachoeiras.html">Cachoeiras</a>
            <a href="eventos.html">Eventos</a>
        </div>
    </header>

    <div class="page-hero">
        <h1>Não perca nenhum evento! </h1>
        <p class="hero-caption">Foto: WSL Brasil - Praia de Itaúna - Saquarema</p>
    </div>
    
    <main>
      <div class="container" id="eventosContainer">
    <!-- Eventos serão injetados aqui -->
      </div>
    </main>

    <footer>
        <a href="admin.html" class="footer-admin-button">Área Restrita</a>

        <div class="footer-content">
            <p>&copy; 2025 Circuito Saquarema Verde. Todos os direitos reservados.</p>
        </div>
    </footer>

    <script>
function escapeHtml(s){ if(!s) return ''; return String(s).replaceAll('&','&amp;').replaceAll('<','&lt;').replaceAll('>','&gt;').replaceAll('"','&quot;').replaceAll("'",'&#039;').replaceAll('\n','<br>'); }

function carregarEventos(){
  const container = document.getElementById('eventosContainer');
  const eventos = JSON.parse(localStorage.getItem('eventos')||'[]');
  container.innerHTML = '';
  if(!eventos.length){
    container.innerHTML = '<p style="text-align:center;color:#555;padding:36px;background:#fff;border-radius:8px">Nenhum evento disponível no momento.</p>';
    return;
  }
  eventos.forEach(ev=>{
    const bloco = document.createElement('div');
    bloco.className = 'event-block';
    // extrair mapa e urlExterna para compatibilidade
    const mapa = ev.mapa || '';
    const urlExterna = ev.urlExterna || '';
    bloco.innerHTML = `
      <img src="${ev.imagem}" class="event-banner" onerror="this.style.display='none'">
      <div class="event-card">
        <h2>${escapeHtml(ev.titulo)}</h2>
        <p>${escapeHtml(ev.descricao)}</p>
        ${mapa ? `<iframe src="${mapa}" loading="lazy"></iframe>` : ''}
        ${(!mapa && urlExterna) ? `<p><a href="${urlExterna}" target="_blank" rel="noopener">Abrir local em nova aba</a></p>` : ''}
      </div>
    `;
    container.appendChild(bloco);
  });
}

document.addEventListener('DOMContentLoaded', carregarEventos);
</script>
    
</body>
</html>